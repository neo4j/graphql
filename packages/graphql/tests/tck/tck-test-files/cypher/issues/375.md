# #375

<https://github.com/neo4j/graphql/issues/375>

Schema:

```graphql
type Objective {
    id: ID! @id
    text: String!
    children: [Objective!]! @relationship(type: "HAS_CHILD", direction: OUT)
    parents: [Objective!]! @relationship(type: "HAS_CHILD", direction: IN)
}
```

---

## Should return newly created child

### GraphQL Input

```graphql
mutation Mutation(
    $updateObjectivesCreate: ObjectiveRelationInput
    $updateObjectivesWhere: ObjectiveWhere
) {
    updateObjectives(
        create: $updateObjectivesCreate
        where: $updateObjectivesWhere
    ) {
        objectives {
            id
            text
            children {
                id
                text
            }
        }
    }
}
```

### GraphQL Params Input

```json
{
    "updateObjectivesWhere": {
        "id": 123
    },
    "updateObjectivesCreate": {
        "children": [
            {
                "node": {
                    "text": "My sub-objective"
                }
            }
        ]
    }
}
```

### Expected Cypher Output

```cypher
MATCH (this:Objective)
WHERE this.id = $this_id
CREATE (this_create_children0_node:Objective)
SET this_create_children0_node.id = randomUUID()
SET this_create_children0_node.text = $this_create_children0_node_text
MERGE (this)-[:HAS_CHILD]->(this_create_children0_node)
RETURN this { .id, .text, children: [ (this)-[:HAS_CHILD]->(this_children:Objective) | this_children { .id, .text } ] } AS this
```

### Expected Cypher Params

```json
{
    "this_create_children0_node_text": "My sub-objective",
    "this_id": "123"
}
```
