[[schema-mutations-create]]
= Create

== Schema

[source, graphql]
----
type Post {
    id: ID! @id(autogenerate: true)
    content: String!
    creator: User @relationship(type: "HAS_POST", direction: IN)
}

type User {
    id: ID! @id(autogenerate: true)
    name: String
    posts: [Post] @relationship(type: "HAS_POST", direction: OUT)
}
----

== Creating a User

[source, graphql]
----
mutation {
    createUsers(input: [{ name: "dan" }]) {
        users {
            id
            name
        }
    }
}
----


== Creating with OGM

See <<ogm>>.

[source, javascript]
----
const User = ogm.model("User");

const { users } = await User.create({ input: [{ name: "dan" }] });
----


=== Creating a user and a post

[source, graphql]
----
mutation {
    createUsers(
        input: [
            {
                name: "dan"
                posts: { create: [{ content: "nested mutations are cool" }] }
            }
        ]
    ) {
        users {
            id
            name
        }
    }
}
----

=== Creating a user and connecting to a post

[source, graphql]
----
mutation {
    createUsers(
        input: [
            {
                name: "dan"
                posts: {
                    connect: { where: { content: "nested mutations are cool" } }
                }
            }
        ]
    ) {
        users {
            id
            name
        }
    }
}
----
