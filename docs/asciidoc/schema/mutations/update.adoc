[[schema-mutations-update]]
= Update

To learn how to perform the below operations, using the ogm, see <<ogm-methods-update>>.

== Schema

[source, graphql]
----
type Post {
    id: ID! @id
    content: String!
    creator: User @relationship(type: "HAS_POST", direction: IN)
}

type User {
    id: ID! @id
    name: String
    posts: [Post] @relationship(type: "HAS_POST", direction: OUT)
}
----


== Updating a User

[source, graphql]
----
mutation {
    updateUsers(where: { name: "bob" }, update: { name: "Bob" }) {
        users {
            name
        }
    }
}
----


== Creating a post and connecting it to user

[source, graphql]
----
mutation {
    updateUsers(
        where: { name: "bob" }
        create: { posts: [{ content: "nested mutations are cool" }] }
    ) {
        users {
            id
            name
        }
    }
}
----

== Connecting a post to a user

[source, graphql]
----
mutation {
    updateUsers(
        where: { name: "bob" }
        connect: { posts: { where: { content: "nested mutations are cool" } } }
    ) {
        users {
            id
            name
        }
    }
}
----

== Disconnecting a post from a user

[source, graphql]
----
mutation {
    updateUsers(
        where: { name: "bob" }
        disconnect: { posts: { where: { content: "nested mutations are cool" } } }
    ) {
        users {
            id
            name
        }
    }
}
----
